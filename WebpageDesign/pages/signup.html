<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up Form</title>
    <link rel="stylesheet" href="../css/signup.css" />
  </head>

  <body>
    <div class="main">
      <form id="myForm">
        <fieldset>
          <legend>Sign Up Form</legend>

          <label for="name">Name :</label>
          <input type="text" id="name" />
          <br /><br />

          <label for="email">Email :</label>
          <input type="email" id="email" />
          <br /><br />

          <label for="phn">Phone Number :</label>
          <input type="tel" id="phn" />
          <br /><br />

          <label>Gender</label><br />
          <input type="radio" name="gender" id="male" value="Male" /> Male<br />
          <input type="radio" name="gender" id="female" value="Female" /> Female
          <br /><br />

          <label>Reason For Visit :</label><br />
          <input type="checkbox" name="reason" id="friend" /> Friend <br />
          <input type="checkbox" name="reason" id="social" /> Social Media<br />
          <input type="checkbox" name="reason" id="relative" />
          Relative<br /><br />

          <label for="msg">Message</label><br />
          <textarea
            id="msg"
            rows="3"
            placeholder="Write a message..."
          ></textarea>
          <br /><br />

          <button id="submit" type="submit"> <a href="../pages/index.html">Submit</a></button>
        </fieldset>
      </form>
    </div>

    <script>
      const form = document.getElementById("myForm");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // stop form from submitting

        // Getting values
        //value.trim() le chai agadiko ra pachadiko whitespace lai hatauxa
        let name = document.getElementById("name").value.trim();
        let email = document.getElementById("email").value.trim();
        let phn = document.getElementById("phn").value.trim();
        let message = document.getElementById("msg").value;

        // Regex patterns
        const namePattern = /^[A-Za-z ]{3,}$/; // only letters, min 3 chars
        const emailPattern = /^[A-Za-z0-9._-]+@[A-Za-z]+\.[A-Za-z]{2,10}$/;
        const phonePattern = /^[0-9]{7,10}$/; // 7–10 digits
        const messagePattern = /^[A-Za-z0-9 .?,""'!()\-=+]{5,100}$/

        // Validation

        let formsubmission = true;
        if (!namePattern.test(name)) {
          formsubmission=false;
          alert("Invalid Name: Use only letters, minimum 3 characters.");
        }

        if (!emailPattern.test(email)) {
          formsubmission=false;
          alert("Invalid Email Address.");
        }

        if (!phonePattern.test(phn)) {
          formsubmission=false;
          alert("Invalid Phone Number: Only digits (7–10 numbers).");
        }

        if (!document.querySelector("input[name='gender']:checked")) {
          formsubmission=false;
          alert("Please select your gender.");
        }

        if (!document.querySelector("input[name='reason']:checked")) {
          formsubmission=false;
          alert("Select at least one reason for visit.");
        }

        if(!messagePattern.test(message)){
          formsubmission=false;
          alert("don't give j pai tei message");
        }

        if(formsubmission){
          alert("form submitted succesfully");
        }

      });
    </script>
  </body>
</html>
